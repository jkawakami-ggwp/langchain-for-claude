#!/usr/bin/env sh

# Dockerã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª
if ! docker-compose ps | grep -q "app.*Up"; then
  echo "âš ï¸  Dockerã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ã¦ã„ã¾ã›ã‚“ã€‚èµ·å‹•ã—ã¦ã‹ã‚‰å†åº¦ã‚³ãƒŸãƒƒãƒˆã—ã¦ãã ã•ã„ã€‚"
  echo "å®Ÿè¡Œ: docker-compose up -d"
  exit 1
fi

echo "ğŸ” Running linter..."
docker-compose exec -T app pnpm lint || exit 1

echo "âœ¨ Running formatter..."
docker-compose exec -T app pnpm format || exit 1

echo "ğŸ§ª Running tests..."
docker-compose exec -T app pnpm test --passWithNoTests || exit 1

echo "âœ… All checks passed!"
